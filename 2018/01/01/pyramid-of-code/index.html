<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>代码的金字塔 | hello2dj | if you can&#39;t explain it simply, you don&#39;t understand it well enough</title>

  
  <meta name="author" content="hello2dj (dj_amazing@sina.com)">
  

  
  <meta name="description" content="每个人都是带着棱角来到世上，只有磨平棱角才能走的更远">
  

  
  
  <meta name="keywords" content="software">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="代码的金字塔"/>

  <meta property="og:site_name" content="hello2dj"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="hello2dj" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">hello2dj</a>
    </h1>
    <p class="site-description">if you can&#39;t explain it simply, you don&#39;t understand it well enough</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/categories">Categories</a></li>
      
        <li><a href="/tags">Tags</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>代码的金字塔</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/01/01/pyramid-of-code/" rel="bookmark">
        <time class="entry-date published" datetime="2018-01-01T07:09:46.000Z">
          2018-01-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>废话不说先上图<br><img src="http://gooddeveloper.files.wordpress.com/2009/05/pyramid.gif" alt=""></p>
<p>代码的质量可以被看作是上图的金字塔，每个顶点都代表这代码质量的一个特点。但总体来说一共包含两方面，基础和顶点（base and apex）</p>
<p>基础是什么呢？ 基础是那些让我们的代码可靠，可面向未来的特点的集合。而顶点则是代码的功能和可靠性。 你想让你的顶点越高，那么基础就应当越大。</p>
<h3 id="基础包括那些特征呢？"><a href="#基础包括那些特征呢？" class="headerlink" title="基础包括那些特征呢？"></a>基础包括那些特征呢？</h3><p><img src="http://gooddeveloper.files.wordpress.com/2009/05/pyramid_basenames.png" alt=""></p>
<ul>
<li><h4 id="可读性"><a href="#可读性" class="headerlink" title="可读性"></a>可读性</h4><p>这个特征代表了代码是否易于阅读，是否易于理解代码的内容及其目的。他又包括以下几个特征：</p>
<ul>
<li>好的注释，注意不是过多的注释，过多的注释可不是什么好事儿</li>
<li>好的命名无论是类，函数，变量等, 见我的<a href="https://hello2dj.github.io/2018/01/01/naming/" target="_blank" rel="noopener">这篇文章</a></li>
<li>一致的代码规范</li>
<li>干净的逻辑，说白了就是没有废话</li>
</ul>
</li>
<li><h4 id="可扩展性"><a href="#可扩展性" class="headerlink" title="可扩展性"></a>可扩展性</h4><p>这个特征代表了是否易于添加功能(对产品来说做减法的太少，做加法的太多了),好的设计应当具有高扩展性。扩展越高意味添加功能就越轻松，改动也越少。</p>
</li>
<li><h4 id="原子性（低耦合，高内聚）"><a href="#原子性（低耦合，高内聚）" class="headerlink" title="原子性（低耦合，高内聚）"></a>原子性（低耦合，高内聚）</h4><p>这个特征代表了我们的功能模块之间是否低耦合，高内聚，模块内修改不影响其他模块。<br>这里有一些好的原则：</p>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/SOLID_(%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1" target="_blank" rel="noopener">SOLID 原则</a>)<ul>
<li>单一功能原则</li>
<li>开闭原则</li>
<li>里氏替换原则</li>
<li>接口隔离原则</li>
<li>依赖反转原则</li>
</ul>
</li>
<li>DRY</li>
<li>持续重构<h4 id="可测试性"><a href="#可测试性" class="headerlink" title="可测试性"></a>可测试性</h4>这个特征代表了我们的代码覆盖度有多少，我们的自动化程度有多少。还有单元测试，集成测试以及e2e测试的情况。</li>
</ul>
</li>
</ul>
<h3 id="金字塔的顶点"><a href="#金字塔的顶点" class="headerlink" title="金字塔的顶点"></a>金字塔的顶点</h3><p>顶点代表了，我们的代码做了多少事，以及他的可靠程度</p>
<h3 id="保持顶点与基础平衡"><a href="#保持顶点与基础平衡" class="headerlink" title="保持顶点与基础平衡"></a>保持顶点与基础平衡</h3><p>要让我们的基础足够大，整体机构自然就会很好。</p>
<h3 id="那么这个金字塔会有那些形状呢？"><a href="#那么这个金字塔会有那些形状呢？" class="headerlink" title="那么这个金字塔会有那些形状呢？"></a>那么这个金字塔会有那些形状呢？</h3><ul>
<li>代码需要重构，不在是个上小下大的机构了，就是个棍儿了。</li>
<li>所有的都是ok的，完美的金字塔。</li>
<li>底儿太大了，都成了个扁的了，过度设计，只是在浪费资源罢了。</li>
</ul>
<h3 id="那么怎么测量这个金字是否合适呢？"><a href="#那么怎么测量这个金字是否合适呢？" class="headerlink" title="那么怎么测量这个金字是否合适呢？"></a>那么怎么测量这个金字是否合适呢？</h3><p>不幸的是目前还没有什么具体的方法能够测量代码的可测试性，可读性，可扩展性，以及原子性，我们只能靠经验来判断。这是个悲哀。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>无数先贤都在探索怎么才能把软件工程化做的更好，我也希望会做的更好，我也会为此做出努力。可这里隐含着一个问题，就好建筑业，他的工程化很成熟，因此带了无数的建筑工人，拿着微薄的工资，做着最累的工作。希望我们这里没有。</p>
<p>参考：</p>
<ol>
<li><a href="http://www.makinggoodsoftware.com/" target="_blank" rel="noopener">blog</a></li>
</ol>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/software/">software</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2018 hello2dj (dj_amazing@sina.com)
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>